

<div class="mdl-cell mdl-cell--12-col-desktop mdl-cell--12-col-tablet mdl-cell--4-col-phone">
    <div class="mdl-card mdl-shadow--2dp">
        <div class="mdl-card__title">
            <h5 class="mdl-card__title-text">Input Objective KPI</h5>
        </div>
        <div class="mdl-card__supporting-text no-padding">
        	<form class="form-inline" id="form-reset">
            	<div class="mdl-grid" style="width: 100%;">
            		<div class="mdl-cell mdl-cell--10-col-desktop mdl-cell--10-col-tablet mdl-cell--4-col-phone form__article" style="margin: 0;">
            			<select class="" name="length_change" id="length_change">
						    <option value="10">10</option>
						    <option value="25">25</option>
						    <option value="50">50</option>
						    <option value="100">100</option>
						    <option value="100000">All</option>
						</select>
					  	<button type="button" data-toggle="modal" data-target="#searchToolModal">Filter</button>
					  	<button class="bg-gray" type="button" id="btn_reset">Reset</button>
					  	<input type="text" class="col-md-5" name="searchinput" id="searchinput" placeholder="Direct search here . . .">
            		</div>
            		<div class="mdl-cell mdl-cell--2-col-desktop mdl-cell--2-col-tablet mdl-cell--2-col-phone form__article" style="margin: 0;">
						<span id="paginationx"></span>
            		</div>
            	</div>
			</form>
        	<div class="dragscroll">
	            <table id="table_input_objective_kpi" class="table table-bordered" width="100%" style="border: 3px solid #ddd;">
					<thead>
						<tr>
			                <th rowspan="3" class="text-center bg-dark-cyan padding-bottom50">No</th>
			                <th rowspan="3" class="text-center bg-dark-cyan padding-bottom50">SCORECARD CATEGORY</th>
			                <th rowspan="3" class="text-center bg-dark-cyan padding-bottom50">DEPT IN CHARGE</th>
			                <th rowspan="3" class="text-center bg-dark-cyan padding-bottom50">CLUSTERING MVC</th>
			                <th rowspan="3" class="text-center bg-dark-cyan padding-bottom50">MINING VALUE CHAIN</th>
			                <th rowspan="3" class="text-center bg-dark-cyan padding-bottom50">DEPLOY CATEGORY</th>
			                <th rowspan="3" class="text-center bg-dark-cyan padding-bottom50">CATEGORY</th>
			                <th rowspan="3" class="text-center bg-dark-cyan padding-bottom50">OBJECTIVE - KPI</th>
			                <th rowspan="3" class="text-center bg-dark-cyan padding-bottom50">WEIGHT</th>
			                <th rowspan="3" class="text-center bg-dark-cyan padding-bottom50">SATUAN</th>
			                <th colspan="1" class="text-center bg-dark-cyan border-bottom">NASIONAL</th>

			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>

			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th colspan="1" class="text-center bg-dark-cyan">NASIONAL</th>
			                <th rowspan="3" class="text-center bg-dark-cyan padding-bottom50">YEAR</th>
			            </tr>
						<tr>
							<th class="text-center bg-dark-cyan border-top"></th>
							<th colspan="2" class="text-center bg-dark-red">YEARLY THIS YEAR</th>
							<th colspan="2" class="text-center bg-dark-cyan">SEMESTER 1</th>
							<th colspan="2" class="text-center bg-dark-cyan">SEMESTER 2</th>
							
							<th colspan="2" class="text-center bg-dark-cyan">JANUARY</th>
							<th colspan="2" class="text-center bg-dark-cyan">FEBRUARY</th>
							<th colspan="2" class="text-center bg-dark-cyan">MARCH</th>
							<th colspan="2" class="text-center bg-dark-red">Q1</th>
							<th colspan="2" class="text-center bg-dark-cyan">APRIL</th>
							<th colspan="2" class="text-center bg-dark-cyan">MAY</th>
							<th colspan="2" class="text-center bg-dark-cyan">JUNE</th>
							<th colspan="2" class="text-center bg-dark-red">Q2</th>
							<th colspan="2" class="text-center bg-dark-cyan">JULY</th>
							<th colspan="2" class="text-center bg-dark-cyan">AUGUST</th>
							<th colspan="2" class="text-center bg-dark-cyan">SEPTEMBER</th>
							<th colspan="2" class="text-center bg-dark-red">Q3</th>
							<th colspan="2" class="text-center bg-dark-cyan">OCTOBER</th>
							<th colspan="2" class="text-center bg-dark-cyan">NOVEMBER</th>
							<th colspan="2" class="text-center bg-dark-cyan">DECEMBER</th>
							<th colspan="2" class="text-center bg-dark-red">Q4</th>
						</tr>
						<tr>
							<th class="text-center bg-dark-cyan">ACTUAL LAST YEAR</th>
							<th class="text-center bg-dark-red">PLAN BASE</th>
							<th class="text-center bg-dark-red">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-red">PLAN BASE</th>
							<th class="text-center bg-dark-red">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-red">PLAN BASE</th>
							<th class="text-center bg-dark-red">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-red">PLAN BASE</th>
							<th class="text-center bg-dark-red">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-cyan">PLAN BASE</th>
							<th class="text-center bg-dark-cyan">TARGET</th>
							<th class="text-center bg-dark-red">PLAN BASE</th>
							<th class="text-center bg-dark-red">TARGET</th>
						</tr>
					</thead>
				</table>
			</div>
    	</div>
	</div>
</div>
<div class="modal" id="searchToolModal" tabindex="-1" role="dialog" aria-labelledby="searchToolModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="searchToolModalLabel">Search Tool</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<form action="#" method="post" id="form-filter">
				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								<div class="control-label">Scorecard Category</div>
								<input type="text" class="form-control" id="scorecard_category" name="scorecard_category" placeholder=". . .">
							</div>
							<div class="form-group">
								<div class="control-label">Clustering MVC</div>
								<input type="text" class="form-control" id="clustering_mvc" name="clustering_mvc" placeholder=". . .">
							</div>
							<div class="form-group">
								<div class="control-label">Deploy Category</div>
								<input type="text" class="form-control" id="deploy_category" name="deploy_category" placeholder=". . .">
							</div>
							<div class="form-group">
								<div class="control-label">Objective KPI</div>
								<textarea type="text" class="form-control" id="objective_kpi" name="objective_kpi" placeholder=". . ." rows="2"></textarea>
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-group">
								<div class="control-label">DEPT in Charge</div>
								<input type="text" class="form-control" id="dept_in_charge" name="dept_in_charge" placeholder=". . .">
							</div>
							<div class="form-group">
								<div class="control-label">Mining Value Chain</div>
								<input type="text" class="form-control" id="mining_value_chain" name="mining_value_chain" placeholder=". . .">
							</div>
							<div class="form-group">
								<div class="control-label">Category</div>
								<input type="text" class="form-control" id="category" name="category" placeholder=". . .">
							</div>
							<div class="form-group">
								<div class="control-label">Year</div>
								<input type="text" class="form-control" id="year" name="year" maxlength="4" placeholder=". . .">
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" id="btn_clear">Clear</button>
					<button type="button" class="btn btn-primary" id="btn_filter">Search</button>
				</div>
			</form>
		</div>
	</div>
</div>
<style type="text/css">
	th, td { white-space: nowrap; }
    div.dataTables_wrapper { margin: 0 auto; }
    div.container { width: 80%; }
    .dataTables_filter { display: none; }
    .border-bottom { border-bottom: 0px !important; }
	.border-top { border-top: 0px !important; }
</style>
<script type="text/javascript">
    $(document).ready(function (){
    	$('#link_input_objective_kpi').addClass('mdl-navigation__link--current');
    	var table = $('#table_input_objective_kpi').DataTable({
    		"processing": true,
    		"serverSide": true,
    		"select": true,
    		"pagingType": "listbox",
         	"bLengthChange": false,
    		"pageLength": 50,
    		"ordering": false,
    		"order": [],
    		"ajax": {
    			"url": '<?=site_url('table/input_objective_kpi/').$accessRights->site?>',
    			"type": 'POST',
    			data : function(data) { data.scorecard_category = $("#scorecard_category").val();data.dept_in_charge = $("#dept_in_charge").val();data.clustering_mvc = $("#clustering_mvc").val();data.mining_value_chain = $("#mining_value_chain").val();data.category = $("#category").val();data.objective_kpi = $("#objective_kpi").val();data.year = $("#year").val(); },
    			error: function(data) {swal({animation: false,focusConfirm: false,text: "Failed to pull data. Click OK to get data"}).then(function(){$('#form-filter')[0].reset();table.ajax.reload();});}
    		},
    		"columns": [
	    		{ "data": "no", "className": "text-center", "searchable": false },
	    		{ "data": "scorecard_category", "className": "text-center" },
	    		{ "data": "dept_in_charge", "className": "text-center" },
	    		{ "data": "clustering_mvc", "className": "text-left" },
	    		{ "data": "mining_value_chain", "className": "text-center" },
	    		{ "data": "deploy_category", "className": "text-center" },
	    		{ "data": "category", "className": "text-center" },
	    		{ "data": "objective_kpi", "className": "text-left" },
	    		{ "data": "weight", "className": "text-center" },
	    		{ "data": "satuan", "className": "text-center" },
	    		{ "data": "actual_last_year", "className": "text-center" },
	    		{ "data": "yearly_base", "className": "text-center" },
	    		{ "data": "yearly_target", "className": "text-center" },
	    		{ "data": "sem1_base", "className": "text-center" },
                { "data": "sem1_target", "className": "text-center" },
                { "data": "sem2_base", "className": "text-center" },
                { "data": "sem2_target", "className": "text-center" },
	    		{ "data": "jan_base", "className": "text-center" },
	    		{ "data": "jan_target", "className": "text-center" },
	    		{ "data": "feb_base", "className": "text-center" },
	    		{ "data": "feb_target", "className": "text-center" },
	    		{ "data": "mar_base", "className": "text-center" },
	    		{ "data": "mar_target", "className": "text-center" },
	    		{ "data": "q1_base", "className": "text-center" },
	    		{ "data": "q1_target", "className": "text-center" },
	    		{ "data": "apr_base", "className": "text-center" },
	    		{ "data": "apr_target", "className": "text-center" },
	    		{ "data": "mei_base", "className": "text-center" },
	    		{ "data": "mei_target", "className": "text-center" },
	    		{ "data": "jun_base", "className": "text-center" },
	    		{ "data": "jun_target", "className": "text-center" },
	    		{ "data": "q2_base", "className": "text-center" },
	    		{ "data": "q2_target", "className": "text-center" },
	    		{ "data": "jul_base", "className": "text-center" },
	    		{ "data": "jul_target", "className": "text-center" },
	    		{ "data": "agt_base", "className": "text-center" },
	    		{ "data": "agt_target", "className": "text-center" },
	    		{ "data": "sept_base", "className": "text-center" },
	    		{ "data": "sept_target", "className": "text-center" },
	    		{ "data": "q3_base", "className": "text-center" },
	    		{ "data": "q3_target", "className": "text-center" },
	    		{ "data": "okt_base", "className": "text-center" },
	    		{ "data": "okt_target", "className": "text-center" },
	    		{ "data": "nov_base", "className": "text-center" },
	    		{ "data": "nov_target", "className": "text-center" },
	    		{ "data": "des_base", "className": "text-center" },
	    		{ "data": "des_target", "className": "text-center" },
	    		{ "data": "q4_base", "className": "text-center" },
	    		{ "data": "q4_target", "className": "text-center" },
	    		{ "data": "year", "className": "text-center" }
    		],
    	});
    	$('#btn_filter').click(function(){ table.ajax.reload();$('#searchToolModal').modal('hide'); });
		$('#btn_reset').click(function(){ $('#form-filter')[0].reset();table.ajax.reload(); });
		$('#btn_clear').click(function(){ $('#form-filter')[0].reset(); });
		$('#searchinput').keyup(function(){ table.search($(this).val()).draw() ; });
		$('#length_change').val(table.page.len());
		$('#length_change').change( function() { table.page.len( $(this).val() ).draw(); });
		$("#paginationx").append($(".dataTables_paginate"));
    });
</script>